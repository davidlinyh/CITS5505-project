{% extends "base.html" %}

{% block title %}
Gallery
{% endblock %}

{% block header %}
Gallery
{% endblock %}

{% block content %}
<form method="GET" action="{{ url_for('search_items') }}">
    <input type="text" name="query" placeholder="Search for items" required>
    <input type="submit" value="Search">
</form>

<div class="gallery">
    {% for item in items %}
        <div class="grid" id="item-{{ item.id }}">
            {% if list_photo_paths[item.id|string] %}
                {% for photo_path in list_photo_paths[item.id|string] %}
                    <img src="{{ url_for('static', filename='item_photos/' + photo_path) }}" alt="Image for {{ item.name }}" onerror="handleImageError('{{ item.id }}')">
                    <div class="grid_body">
                        <h3 class="grid_title">{{ item.name }}</h3>
                        <a class="grid_link" href="/item/{{ item.id }}"></a>
                    </div>
                    <p class="grid_description">{{ item.description }}<br>
                        Status: {{ item.status }}
                    </p>
                {% endfor %}
            {% endif %}
        </div>
    {% else %}
        <p>No items found.</p>
    {% endfor %}
</div>

{% endblock %}

